 #  20230424图森私有化部署详情



## Release Notes

- 修复制作整车升级包页面中查询接口存在 sql 注入的问题



## 服务变更列表

```html
ota-file
ota-personnel
ota-property
ota-camunda
ota-director
ota-image
```



## 测试用例

测试URL: https://ota.tusdev.com/api/ota/image/snapshot/querySnapshotList?pageNum=1&pageSize=20&orderBy=updated_time%20desc&flag=0

测试说明：需要先登陆 https://ota.tusdev.com 平台，然后在界面中输入测试URL，修改 “ordBy=” 后面的参数，查看返回值。

| ordBy参数                                                    | 返回结果                                                     |
| ------------------------------------------------------------ | :----------------------------------------------------------- |
| 1111                                                         | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:40:41",      "notSuccess": true,      "success": false  } |
| and '1'='1'                                                  | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:41:17",      "notSuccess": true,      "success": false  } |
| and '1'='2'                                                  | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:41:47",      "notSuccess": true,      "success": false  } |
| created_time;delete ir_snapshot where id =10; select * from ir_snapshot | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:42:09",      "notSuccess": true,      "success": false  } |
| 1;1=1                                                        | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:42:36",      "notSuccess": true,      "success": false  } |
| true;1=1                                                     | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:42:56",      "notSuccess": true,      "success": false  } |
| ture; AND 1=1                                                | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:43:10",      "notSuccess": true,      "success": false  } |
| true                                                         | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:43:28",      "notSuccess": true,      "success": false  } |
| (select*from(select%20if(1=1,1,2*1e308))a)                   | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-20 18:44:12",      "notSuccess": true,      "success": false  } |
| ;;                                                           | {      "status": false,      "code": 500,      "msg": " [500] [CommonException]  msg: ",      "data": null,      "timestamp": "2023-04-20 18:45:25",      "notSuccess": true,      "success": false  } |
| and 0<>(select count(*) from admin)                          | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-21 09:53:22",      "notSuccess": true,      "success": false  } |
| and 1<(select count(*) from admin)                           | {      "status": false,      "code": 10100,      "msg": "参数异常",      "data": " [10100] [BizException]  msg: ",      "timestamp": "2023-04-21 09:51:57",      "notSuccess": true,      "success": false  } |
| created_time;and 1=1                                         | {      "status": false,      "code": 500,      "msg": " [500] [CommonException]  msg: ",      "data": null,      "timestamp": "2023-04-21 10:00:28",      "notSuccess": true,      "success": false  } |
|                                                              |                                                              |
|                                                              |                                                              |

